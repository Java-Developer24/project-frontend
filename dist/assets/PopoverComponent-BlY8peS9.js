import{h as L,i as A,r as i,j as a,k as O,l as _,P as w,m as P,n as j,o as z,p as G,q as H,s as K,F as q,D as U,C as V,t as W,v as Z,w as B,x as J,y as Q,f as X}from"./index-HHD5J08U.js";var C="Popover",[E,ve]=L(C,[A]),h=A(),[Y,d]=E(C),b=e=>{const{__scopePopover:s,children:t,open:n,defaultOpen:o,onOpenChange:r,modal:c=!1}=e,l=h(s),u=i.useRef(null),[p,g]=i.useState(!1),[m=!1,f]=B({prop:n,defaultProp:o,onChange:r});return a.jsx(J,{...l,children:a.jsx(Y,{scope:s,contentId:Q(),triggerRef:u,open:m,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(x=>!x),[f]),hasCustomAnchor:p,onCustomAnchorAdd:i.useCallback(()=>g(!0),[]),onCustomAnchorRemove:i.useCallback(()=>g(!1),[]),modal:c,children:t})})};b.displayName=C;var N="PopoverAnchor",ee=i.forwardRef((e,s)=>{const{__scopePopover:t,...n}=e,o=d(N,t),r=h(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=o;return i.useEffect(()=>(c(),()=>l()),[c,l]),a.jsx(O,{...r,...n,ref:s})});ee.displayName=N;var y="PopoverTrigger",F=i.forwardRef((e,s)=>{const{__scopePopover:t,...n}=e,o=d(y,t),r=h(t),c=_(s,o.triggerRef),l=a.jsx(w.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":k(o.open),...n,ref:c,onClick:P(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:a.jsx(O,{asChild:!0,...r,children:l})});F.displayName=y;var R="PopoverPortal",[oe,te]=E(R,{forceMount:void 0}),S=e=>{const{__scopePopover:s,forceMount:t,children:n,container:o}=e,r=d(R,s);return a.jsx(oe,{scope:s,forceMount:t,children:a.jsx(j,{present:t||r.open,children:a.jsx(Z,{asChild:!0,container:o,children:n})})})};S.displayName=R;var v="PopoverContent",D=i.forwardRef((e,s)=>{const t=te(v,e.__scopePopover),{forceMount:n=t.forceMount,...o}=e,r=d(v,e.__scopePopover);return a.jsx(j,{present:n||r.open,children:r.modal?a.jsx(re,{...o,ref:s}):a.jsx(ne,{...o,ref:s})})});D.displayName=v;var re=i.forwardRef((e,s)=>{const t=d(v,e.__scopePopover),n=i.useRef(null),o=_(s,n),r=i.useRef(!1);return i.useEffect(()=>{const c=n.current;if(c)return z(c)},[]),a.jsx(G,{as:H,allowPinchZoom:!0,children:a.jsx(T,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),r.current||(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,p=l.button===2||u;r.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),ne=i.forwardRef((e,s)=>{const t=d(v,e.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return a.jsx(T,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,r),r.defaultPrevented||(n.current||(l=t.triggerRef.current)==null||l.focus(),r.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:r=>{var u,p;(u=e.onInteractOutside)==null||u.call(e,r),r.defaultPrevented||(n.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=r.target;((p=t.triggerRef.current)==null?void 0:p.contains(c))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),T=i.forwardRef((e,s)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:g,...m}=e,f=d(v,t),x=h(t);return K(),a.jsx(q,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:r,children:a.jsx(U,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:p,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(V,{"data-state":k(f.open),role:"dialog",id:f.contentId,...x,...m,ref:s,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M="PopoverClose",se=i.forwardRef((e,s)=>{const{__scopePopover:t,...n}=e,o=d(M,t);return a.jsx(w.button,{type:"button",...n,ref:s,onClick:P(e.onClick,()=>o.onOpenChange(!1))})});se.displayName=M;var ae="PopoverArrow",ce=i.forwardRef((e,s)=>{const{__scopePopover:t,...n}=e,o=h(t);return a.jsx(W,{...o,...n,ref:s})});ce.displayName=ae;function k(e){return e?"open":"closed"}var ie=b,le=F,ue=S,I=D;const pe=ie,de=le,$=i.forwardRef(({className:e,align:s="center",sideOffset:t=14,...n},o)=>a.jsx(ue,{children:a.jsx(I,{ref:o,align:s,sideOffset:t,className:X("z-50 overflow-hidden rounded-md border-none bg-primary px-3 py-1.5 text-sm text-white shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));$.displayName=I.displayName;const Pe=({buttonComponent:e,popoverContent:s,delay:t=2e3,open:n,setOpen:o})=>(i.useEffect(()=>{let r;return n&&(r=setTimeout(()=>{o(!1)},t)),()=>clearTimeout(r)},[n,t]),a.jsxs(pe,{open:n,onOpenChange:o,children:[a.jsx(de,{asChild:!0,children:e}),a.jsx($,{children:s})]}));export{Pe as P};
